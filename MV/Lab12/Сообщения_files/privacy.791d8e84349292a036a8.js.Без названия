!function(e){function t(t){for(var r,l,a=t[0],n=t[1],o=t[2],f=0,d=[];f<a.length;f++)l=a[f],Object.prototype.hasOwnProperty.call(c,l)&&c[l]&&d.push(c[l][0]),c[l]=0;for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);for(u&&u(t);d.length;)d.shift()();return s.push.apply(s,o||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],r=!0,a=1;a<i.length;a++){var n=i[a];0!==c[n]&&(r=!1)}r&&(s.splice(t--,1),e=l(l.s=i[0]))}return e}var r={},c={"web/privacy":0},s=[];function l(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=e,l.c=r,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(i,r,function(t){return e[t]}.bind(null,r));return i},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/js/cmodules/";var a=window.webpackJsonp=window.webpackJsonp||[],n=a.push.bind(a);a.push=t,a=a.slice();for(var o=0;o<a.length;o++)t(a[o]);var u=n;s.push([229,"bundles/common"]),i()}({229:function(e,t,i){e.exports=i("8JLy")},"8JLy":function(e,t,i){"use strict";i.r(t);i("Oyvg"),i("OG14"),i("pIFo"),i("rGqo"),i("Btvt");var r=i("4+be"),c=i("3oLO"),s=i("7jxN"),l=i("zxIV"),a=i("v+DW"),n=i("Egk5"),o=i("o7bv"),u=i("t7n3"),f=i("kcIO"),d=i("FWc3"),p={customType:4,someType:5,listsType:6,flistBox(e,t,i,c,s,a,n){if(cur.flistTpl=c,0===i.length&&(i={}),cur.flistList=t,cur.flistFriends=t,cur.flistSearchList=[],cur.flistSearchTotal=-1,cur.flistSearchLoadStr="",cur.flistSelectedList=i&&i[0]?i:[],cur.flistSelected={},Object(u.each)(i,(e,t)=>{cur.flistSelected[t[0]]=1}),cur.flistSelectedShowed=0,cur.flistHash=a,cur.flistBox=e,cur.isVKMiniApp=n,cur.flistIndex=new vkIndexer(t,e=>e[1]+" "+e[4]),e.removeButtons(),e.addButton(s||Object(r.getLang)("global_save"),this.submitFlistBox),cur.flistTooltip){var o=Object(l.ge)("flist_sel"),f={className:"flist_info_tt",text:cur.flistTooltip,width:250,nohide:1,nohideover:1};f=cur.flistTooltipRight?Object(u.extend)(f,{dir:"left",slideX:-15,shift:[-Object(l.getSize)(o)[0]-15,-28]}):Object(u.extend)(f,{dir:"right",slideX:15,shift:[265,-28]}),Object(d.showTooltip)(o,f),stManager.add([jsc("web/tooltips.js")],()=>{e.setOptions({onHide:tooltips.hide.pbind(o)})})}else e.addButton(Object(r.getLang)("global_cancel"),()=>{e.hide()},"no");return cur.flistScrollbar=new Scrollbar("flist_scroll_wrap",{nomargin:!0,right:vk.rtl?"auto":0,left:vk.rtl?0:"auto",more:p.flistMore,onScroll:e=>{Object(l.ge)("flist_scroll_wrap").scrollTop>0?Object(l.addClass)("flist_cont","flist_scrolled"):Object(l.removeClass)("flist_cont","flist_scrolled")}}),cur.flistAllCont=Object(l.ge)("flist_all_list"),cur.flistSelCont=Object(l.ge)("flist_sel_list"),cur.flistSearchEl=Object(l.ge)("flist_search"),cur.flistSearchContEl=Object(l.geByClass1)("flist_search_cont","flist_cont"),cur.flistLimit&&cur.flistSelectedCnt>=cur.flistLimit-1&&p.flistFull(),cur.flistCountStr&&cur.flistSelectedCnt>0&&(Object(l.ge)("flist_sel_summary").innerHTML=Object(r.langNumeric)(cur.flistSelectedCnt,cur.flistCountStr)),Object(l.toggleClass)("flist_cont","flist_select_items",cur.flistSelectedCnt>0),!1},submitFlistBox(){var e=Object(l.ge)("flist_list_name"),t=!1;if(Object(l.isVisible)(e)){if(!(t=e.value))return Object(a.notaBene)(e);Object(o.placeholderSetup)(e,{back:!0}),Object(l.elfocus)(e,0,e.value.length)}var i={},r=[];if(cur.isVKMiniApp&&(i.lists=[],i.friends=[]),Object(u.each)(cur.flistSelectedList,(e,t)=>{cur.isVKMiniApp?"list"===t[5]?i.lists.push(t):i.friends.push(t):i[t[0]]=t,r.push(t[0])}),cur.flistFriendsPrivacy)return c.ajax.post("al_settings.php",{act:"hide_friends",hash:cur.flistHash,ids:r.join(",")},{onDone:(e,t)=>{Object(f.showDoneBox)(cur.flistFriendsPrivacyText),cur.flistBox.hide()},showProgress:cur.flistBox.showProgress,hiderogress:cur.flistBox.hideProgress}),Object(f.showDoneBox)(cur.flistFriendsPrivacyText,{out:4e3}),void(cur.flistNavReload&&setTimeout(()=>{nav.reload()},2e3));cur.onFlistSave&&cur.onFlistSave(r,i,cur.flistHash,t),cur.flistBox.leaveOnSave||cur.flistBox.hide()},flistMore(){cur.privacy&&cur.privacy.pagination&&!cur.flistSelectedShowed&&cur.flistList.length-cur.flistShown<10&&cur.flistList.length<cur.flistTotalCount?cur.flistSearchStr?p.flistSearchPagination():cur.flistMoreLoading||(cur.flistMoreLoading=!0,c.ajax.post("al_friends.php",Object(u.extend)({},cur.privacy.chooseBoxOpts||{},{act:"select_friends_box",Checked:Object.keys(cur.flistSelected).join(","),pagination:1,offset:cur.flistList.length}),{onDone:e=>{cur.flistMoreLoading=!1,Object(u.isArray)(e)&&(e.forEach(e=>{cur.flistFriends.push(e),cur.flistIndex.add(e)}),p.flistMore())},onFail:()=>{cur.flistMoreLoading=!1}})):p.flistDrawItems()},flistDrawItems(){for(var e=cur.flistShown+60;cur.flistShown<e&&p.flistShowOne(cur.flistList[cur.flistShown+1]);)++cur.flistShown;setTimeout(()=>{cur.flistScrollbar&&cur.flistScrollbar.update()},10)},flistShowOne(e,t){if(!e)return!1;if(Object(l.ge)("flist_item_wrap"+e[0]))return Object(l.show)(Object(l.ge)("flist_item_wrap"+e[0])),!0;var i=e[1];cur.flistSelection&&(i=i.replace(cur.flistSelection.re,cur.flistSelection.val));var r=ce("div",{id:"flist_item_wrap"+e[0],className:"flist_item_wrap"+(cur.flistSelected[e[0]]?" flist_item_checked":""),innerHTML:Object(l.rs)(cur.flistTpl,{id:e[0],name:i,photo:e[2],alt:Object(u.clean)(i)})});return t?cur.flistAllCont.insertBefore(r,cur.flistAllCont.firstChild):cur.flistAllCont.appendChild(r),!0},flistSelect(e,t,i){var c=Object(l.ge)("flist_item_wrap"+e),s=t.parentNode,a=Boolean(t.dataset.isOne);if("flist_item_sel"==s.id.slice(0,14)||Object(l.hasClass)(c,"flist_item_checked")){delete cur.flistSelected[e];for(var n=0;n<cur.flistSelectedList.length;n++)if(cur.flistSelectedList[n][0]==e){cur.flistSelectedList.splice(n,1);break}c&&Object(l.removeClass)(c,"flist_item_checked");var o=Object(l.ge)("flist_item_sel"+e);if(o&&(Object(l.re)(o),cur.flistSelectedCnt>cur.flistSelInRow&&cur.flistSelectedList[cur.flistSelInRow-1])){var d=cur.flistSelectedList[cur.flistSelInRow-1];Object(l.ge)("flist_item_sel"+d[0])||cur.flistSelCont.insertBefore(ce("div",{id:"flist_item_sel"+d[0],className:"flist_item_wrap",innerHTML:Object(l.rs)(cur.flistTpl,{id:d[0],name:d[1],photo:d[2],alt:Object(u.clean)(d[1])})}),Object(l.ge)("flist_sel_show_all"))}cur.flistSelectedCnt--,0==cur.flistSelectedCnt?(Object(l.show)("flist_info"),cur.flistSelectedShowed||Object(l.hide)("flist_search_toggler_wrap")):cur.flistSelectedCnt>cur.flistSelInRow?(Object(l.val)("flist_sel_show_all","+"+(cur.flistSelectedCnt-cur.flistSelInRow)),Object(l.removeClass)("flist_sel_show_all","unshown")):cur.flistSelectedCnt==cur.flistSelInRow&&Object(l.addClass)("flist_sel_show_all","unshown"),cur.flistLimit&&cur.flistSelectedCnt==cur.flistLimit-1&&Object(l.removeClass)(cur.flistAllCont,"flist_full"),Object(f.curBox)().changed=!0}else if(!Object(l.hasClass)(c,"flist_item_checked")){if(cur.flistLimit&&cur.flistSelectedCnt>=cur.flistLimit)return p.flistFull(i||window.event),!1;var v=Object(l.val)(c);if(Object(l.addClass)(c,"flist_item_checked"),0==cur.flistSelectedCnt&&(Object(l.hide)("flist_info"),Object(l.show)("flist_search_toggler_wrap")),cur.flistSelectedCnt++,cur.flistSelCont.insertBefore(ce("div",{id:"flist_item_sel"+e,className:"flist_item_wrap",innerHTML:v}),cur.flistSelCont.firstChild),cur.flistSelectedCnt>cur.flistSelInRow){var h=Object(l.geByClass)("flist_item_wrap",cur.flistSelCont);Object(l.re)(h[h.length-1]),Object(l.val)("flist_sel_show_all","+"+(cur.flistSelectedCnt-cur.flistSelInRow)),Object(l.removeClass)("flist_sel_show_all","unshown")}cur.flistLimit&&cur.flistSelectedCnt>=cur.flistLimit&&p.flistFull(i||window.event);for(var _=0;_<cur.flistList.length;_++)if(cur.flistList[_]&&cur.flistList[_][0]==e){cur.flistSelectedList.unshift(cur.flistList[_]);break}cur.flistSelected[e]=1,cur.flistSearchStr&&p.flistSearch(!1)}return Object(l.toggleClass)("flist_cont","flist_select_items",cur.flistSelectedCnt>0),cur.flistCountStr&&Object(l.val)("flist_sel_summary",cur.flistSelectedCnt>0?Object(r.langNumeric)(cur.flistSelectedCnt,cur.flistCountStr):cur.flistNoSelStr),cur.flistScrollbar.update(),a&&this.submitFlistBox(),!1},flistFull(e){var t;e&&(Object(l.hasClass)(e.target,"flist_item_thumb")?t=e.target:(Object(l.hasClass)(e.target,"flist_item")&&(t=e.target)||(t=Object(l.gpeByClass)("flist_item",e.target)))&&(t=Object(l.geByClass1)("flist_item_thumb",t)),t&&(window.tooltips&&tooltips.hideAll(),Object(d.showTooltip)(t,{text:cur.limitTooltip,className:"flist_max_size_tt",dir:"auto",slide:-15,shift:[15,10],nohide:1,nohideover:1,hasover:1}),setTimeout(()=>{window.tooltips&&tooltips.hide(t)},2e3)));Object(l.addClass)(cur.flistAllCont,"flist_full")},flistSearch(e){e=Object(u.trim)(e),cur.flistSearchStr=e,cur.privacy&&cur.privacy.pagination&&!cur.flistSelectedShowed&&cur.flistIndex.list.length<cur.flistTotalCount&&e?p.flistSearchPagination():(cur.flistSearchList=[],cur.flistSearchTotal=-1,cur.flistSearchLoadStr="",clearTimeout(cur.flistSearchLoadMore),e?(cur.flistList=(cur.flistSelectedShowed?cur.flistSelectedIndex:cur.flistIndex).search(e),cur.flistSelection={re:new RegExp("("+e.replace(cur.flistIndex.delimiter,"|").replace(/[\/\\\(\)\[\]\{\}\*,]/g,"").replace(/^\||\|$/g,"")+")","gi"),val:'<em class="highlight">$1</em>'},cur.flistScrollbar.scrollTop(0)):(cur.flistList=cur.flistSelectedShowed?cur.flistSelectedList:cur.flistFriends,cur.flistSelection=!1,Object(l.val)(cur.flistSearchEl,""),Object(l.addClass)("ui_search_field_empty",cur.flistSearchContEl)),cur.flistList.length?(cur.flistAllCont.innerHTML="",cur.flistShown=-1,p.flistMore()):cur.isVKMiniApp&&(cur.flistAllCont.innerHTML="",cur.flistAllCont.append(ce("div",{className:"flist_empty no_select",innerHTML:Object(r.getLang)("apps_no_friends_for_query")})),cur.flistShown=0))},flistSearchPagination(){if(!(cur.flistSearchLoading||cur.flistSearchLoadStr===cur.flistSearchStr&&cur.flistSearchList.length>=cur.flistSearchTotal)&&cur.privacy){var e=cur.flistSearchStr;cur.flistSearchLoadMore&&clearTimeout(cur.flistSearchLoadMore),cur.flistSearchLoadStr===e?t():cur.flistSearchLoadMore=setTimeout(t,500)}function t(){cur.flistSearchLoading=!0,c.ajax.post("al_friends.php",Object(u.extend)({},cur.privacy.chooseBoxOpts||{},{act:"select_friends_search",q:e,offset:cur.flistSearchLoadStr===e?cur.flistSearchList.length:0}),{onDone:(t,i)=>{cur.flistSearchLoadStr!==e&&(cur.flistSearchLoadStr=e,cur.flistShown=-1,cur.flistSearchList=[],cur.flistAllCont.innerHTML=""),cur.flistSearchTotal=+i,t.forEach(e=>{cur.flistSearchList.push(e)}),cur.flistList=cur.flistSearchList,p.flistDrawItems(),cur.flistSearchLoading=!1},onFail:()=>{cur.flistSearchLoading=!1}})}},flistToggleAllSelected(){cur.flistSelectedShowed?(cur.flistSelectedShowed=0,Object(l.removeClass)("flist_sel_show_all","flist_sel_showed_all"),Object(l.removeClass)("flist_search_toggler","on"),0===cur.flistSelectedCnt&&(Object(l.hide)("flist_search_toggler_wrap"),Object(l.removeClass)("flist_cont","flist_select_items")),p.flistSearch(!1)):(cur.flistSelectedShowed=1,Object(l.addClass)("flist_sel_show_all","flist_sel_showed_all"),Object(l.addClass)("flist_search_toggler","on"),cur.flistList=cur.flistSelectedList,cur.flistAllCont.innerHTML="",cur.flistShown=-1,p.flistMore(),cur.flistSelectedIndex=new vkIndexer(cur.flistSelectedList,e=>e[1]+" "+e[4])),cur.flistSelection=!1,Object(l.val)(cur.flistSearchEl,"")},hideFriends(e,t){var i=cur.privacy[e][2];return showBox("al_friends.php",{act:"select_friends_box",from:"friends_privacy",Checked:i.join(",")},{stat:[jsc("web/privacy.js"),"privacy.css",jsc("web/indexer.js")],params:{dark:1}}),cur.onFlistSave=function(t,i,r){c.ajax.post("al_settings.php",{act:"hide_friends",hash:r,ids:t.join(",")},{onDone:(t,i)=>{Object(l.ge)("privacy_"+e+"_hide").innerHTML=t,cur.privacy[e]=i,cur.onPrivacyChanged&&cur.onPrivacyChanged(e)}})},!1},update(e,t){var i=Object(l.ge)("privacy_edit_"+e),r=cur.privacy[e],c=r[0],s=cur.privacy[e+"_types"]||cur.privacy._types,a=cur.privacy[e+"_lists"]||cur.privacy._lists||{},n={};for(var o in a)a.hasOwnProperty(o)&&(n[parseInt(o)]=a[o]);if(i){i.innerHTML=s[c];var u=Object(l.ge)("privacy_header");u&&(u.innerHTML=s[c]);var f=Object(l.gpeByClass)("privacy_edit_wrap",i);if(f&&f.nextSibling)if(c==p.listsType){var d=[];for(var v in r[2])if(r[2].hasOwnProperty(v)){var h=-r[2][v],_=(h-1)%8+1;if(n[h]){var y=void 0;y=h<100?'<a href="/friends?section=list'+h+'" class="group'+_+'">'+n[h]+"</a>":'<span class="group'+_+'">'+n[h]+"</span>",d.push(y)}}f.nextSibling.innerHTML=(d.length?": ":"")+d.join(", ")}else f.nextSibling.innerHTML="";if(f&&Object(l.hasClass)(f,"privacy_graphic"))(0==c&&"hidden_friends"!==e||c==p.customType&&r[1]&&r[2]&&"0"==r[2][0]||1==c&&"appscall"===e?l.removeClass:l.addClass)(f,"privacy_locked")}cur.onPrivacyChanged&&cur.onPrivacyChanged(e,t)},setValue(e,t){var i=cur.privacy[e],r=cur.onPrivacyChanged;cur.privacy[e]=t,cur.onPrivacyChanged=null,p.update(e,i),cur.onPrivacyChanged=r},someSaved(e,t,i,c){var s=cur.privacy[e];cur.privacy[e]=[p.someType,0,t,[]];for(var a=cur.privacy.lang||{},n=t.length,o=[],u=0;u<n&&u<5;++u){var f=t[u],d=c?i[u]:i[f],v=d[4].replace(/'/g,"");o.push('<a href="/'+(v||"id"+f)+'" onclick="return nav.go(this, event)">'+(d[5]||d[1])+"</a>")}o=o.join(", "),n>5&&(o+=" "+(a.some?Object(r.getLang)(a.some,n-5):Object(r.getLang)("privacy_N_friends_some",n-5)));var h=Object(l.ge)("privacy_edit_"+e),_=Object(l.gpeByClass)("privacy_edit_wrap",h),y=cur.privacy[e+"_types"]||cur.privacy._types;h.innerHTML=y[p.someType],_.nextSibling.innerHTML=": "+o,cur.onPrivacyChanged&&cur.onPrivacyChanged(e,s)},customSaved(e,t,i,c){var s=cur.privacy[e];cur.privacy[e]=t;var a=cur.privacy.lang||{};if(1==t[1]&&!t[3].length||t[0]==p.listsType)p.update(e,s);else if(t[0]==p.someType)p.someSaved(e,t[2],i,!0);else{var n=Object(l.ge)("privacy_edit_"+e),o=Object(l.gpeByClass)("privacy_edit_wrap",n),u=cur.privacy[e+"_types"]||cur.privacy._types,f=cur.privacy[e+"_lists"]||cur.privacy._lists||{},d=u[p.listsType],v="";if(1==t[1])d=u[t[2][0]];else{v=[];for(var h=i.length,_=!1,y=0;y<h&&y<5;++y){var b=i[y],S=b[0];if(S>0){var g=b[4].replace(/'/g,"");_=!0,v.push('<a href="/'+(g||"id"+S)+'" onclick="return nav.go(this, event)">'+b[6]+"</a>")}else{var j=-S,O=(j-1)%8+1;v.push('<a href="/friends?section=list'+j+'" class="group'+O+'">'+f[j]+"</a>")}}_&&(d=u[p.someType]),v=": "+v.join(", "),h>5&&(v+=" "+Object(r.getLang)(a.some||"privacy_N_friends_some",h-5))}if(c.length){for(var m=c.length,w=[],C=0;C<m&&C<5;++C){var x=c[C],T=x[0];if(T>0){var L=x[4].replace(/'/g,"");w.push('<a href="/'+(L||"id"+T)+'" onclick="return nav.go(this, event)">'+x[6]+"</a>")}else{var M=-T,P=(M-1)%8+1;w.push('<a href="/friends?section=list'+M+'" class="group'+P+'">'+f[M]+"</a>")}}v+=", "+Object(r.getLang)("global_privacy_except")+" "+w.join(", "),m>5&&(v+=" "+Object(r.getLang)("privacy_N_friends_more",m-5))}n.innerHTML=d,o.nextSibling.innerHTML=v,Object(l.hasClass)(o,"privacy_graphic")&&(t[1]&&t[2]&&"0"==t[2][0]?l.removeClass:l.addClass)(o,"privacy_locked"),cur.onPrivacyChanged&&cur.onPrivacyChanged(e)}},choose(e,t,i,r){var c=cur.privSel,s=cur.privacy._noselect||"chat_actions"===c,a=cur.privacy[c];if(!cur.privacyNeedConfirm||r){if(s)return cur.onPrivacyChanged&&cur.onPrivacyChanged(c,t,i),p.qhide(),Object(n.cancelEvent)(e);if(t==p.customType){var o,f,d=[],v="";return a[0]==p.customType?(o=a[1],f=a[2],d=a[3]):a[0]==p.someType||a[0]==p.listsType?(o=0,f=a[2]):(o=1,f=a[2]),cur.onCprivSave=p.customSaved.pbind(c),cur.privacy.custom_box_type&&(v=cur.privacy.custom_box_type),showBox("al_friends.php",Object(u.extend)(cur.privacy.chooseBoxOpts||{},{act:"custom_privacy_box",type:o,plus:f.join(","),minus:d.join(","),opt:v,key:c}),{stat:["ui_controls.js","ui_controls.css"]})}if(t==p.someType){var h=a[0]==p.someType||a[0]==p.complexType&&0==a[1]?a[2].join(","):"";return cur.onFlistSave=function(e,t){p.someSaved(c,e,t)},showTabbedBox("al_friends.php",Object(u.extend)({},cur.privacy.chooseBoxOpts||{},{act:"select_friends_box",Checked:h,pagination:cur.privacy.pagination?1:""}),{stat:["ui_controls.js"]})}if(t==p.listsType){var _=Object(l.ge)("privacy_l_item"+i);if("l_item_sel"==_.className){_.className="l_item";var y=indexOf(a[2],-i);if(-1!=y&&a[2].splice(y,1),!a[2].length&&"updates"!=c){var b=cur.privacy[c+"_types"]||cur.privacy._types,S=Object.keys(b);cur.privacy[c]=[intval(S[0]),1,[0],[]]}}else _.className="l_item_sel",a[0]!=t&&(a=cur.privacy[c]=[t,0,[],[]]),a[2].push(-i);return p.update(c,a),Object(n.cancelEvent)(e)}cur.privacy[c]=[t,1,[t],[]],p.update(c,a),p.qhide()}else cur.privacyNeedConfirm(c,t,()=>{p.show(Object(l.ge)("privacy_edit_"+c),e,c),p.choose(e,t,i,!0)})},select(e,t){if(t||e!==cur.privSelIndex){if(!1!==cur.privSelIndex){var i=Object(l.ge)("privacy_item"+cur.privSelIndex);i&&(i.className="item"),cur.privSelIndex==p.listsType&&cur.privacy[cur.privSel][0]!=p.listsType&&(p.toup?Object(l.hide)(i.previousSibling):Object(l.hide)(i.nextSibling))}cur.privSelIndex=e;var r=Object(l.ge)("privacy_item"+cur.privSelIndex),c=cur.privSelIndex==p.someType?"_plus":"";r.nextSibling&&r.nextSibling.id=="privacy_item"+p.listsType&&Object(l.isVisible)(r.nextSibling.nextSibling)?r.className="last item_sel"+c:e==p.listsType?p.toup?Object(l.show)(r.previousSibling):Object(l.show)(r.nextSibling):r.className="item_sel"+c}},unselect(e){e==cur.privSelIndex&&(Object(l.ge)("privacy_item"+e).className="item",cur.privSelIndex=!1)},hide(e){if(e>0)cur.hidePrivacyTimer=setTimeout(p.hide.pbind(0),e);else{clearTimeout(cur.hidePrivacyTimer);var t=Object(l.ge)("privacy_header");t&&(-1==e?(Object(l.hide)(cur.privEl),t&&t.tt&&Object(u.isFunction)(t.tt.hide)&&t.tt.hide()):l.isVisible&&(Object(s.fadeOut)(cur.privEl,200),t&&t.tt&&Object(u.isFunction)(t.tt.hide)&&t.tt.hide()),cur.privSel=cur.privSelIndex=!1,Object(n.removeEvent)(document,"click",p.qhide))}},show(e,t,i,r){if(Object(l.hasClass)(e,"privacy_link_disabled"))return Object(n.cancelEvent)(t);var c=cur.privacy[i],s=Object(l.gpeByClass)("privacy_edit_wrap",e);if(c&&s){if(cur.onPrivacyShow&&cur.onPrivacyShow(i),cur.privEl||(cur.privEl=Object(l.ge)("privacy_dropdown"),cur.privEl&&(cur.privRows=cur.privEl.firstChild)),cur.privEl){if(cur.privEl.parentNode!=s){Object(l.re)(cur.privEl),cur.privEl=s.appendChild(cur.privEl);var a=Object(l.ge)("privacy_header");a&&a.tt&&Object(u.isFunction)(a.tt.hide)&&a.tt.hide()}}else cur.privEl=s.appendChild(ce("div",{id:"privacy_dropdown",innerHTML:'<div class="rows"></div>'})),cur.privRows=cur.privEl.firstChild,Object(n.addEvent)(cur.privEl,"mouseout",p.hide.pbind(500)),Object(n.addEvent)(cur.privEl,"mouseover",()=>{clearTimeout(cur.hidePrivacyTimer)});cur.privEl.className="privacy_dropdown privacy_dropdown_"+i,setTimeout(n.addEvent.pbind(document,"click",p.qhide),1);var o=cur.privacy[i+"_types"]||cur.privacy._types,f=cur.privacy[i+"_lists"]||cur.privacy._lists||{},v=cur.privacy[i+"_hidden"]||cur.privacy._hidden||{},h=getStyle(e,"fontSize")||vk.fs;Object(l.setStyle)(cur.privRows,{fontSize:h}),cur.privSelIndex=c[0],v[cur.privSelIndex]&&(cur.privSelIndex=0);var _,y,b,S=[],g=Object.keys(f).length>0;for(var j in S.push('<div class="header" onclick="Privacy.hide(-1)"><div id="privacy_header" class="header_label">'+e.innerHTML+"</div></div>"),S.push('<div class="body">'),o)if(!v[j]){if(_=j==cur.privSelIndex&&j!=p.listsType?"_sel":"",y="onmouseover=\"Privacy.select('"+j+"')\" onclick=\"Privacy.choose(event, '"+j+"')\"",j==p.listsType){if(!g)continue}else y+=" onmouseout=\"Privacy.unselect('"+j+"')\"";_&&j==p.someType&&(_+="_plus"),S.push('<div class="item'+_+'" id="privacy_item'+j+'" '+y+">"+o[j]+"</div>")}if(o[p.listsType]&&g){for(var O in b=cur.privSelIndex!=p.listsType,S.push('<div id="privacy_lists" class="privacy_lists">'),S.push('<div class="l_header" onclick="return cancelEvent(event)"><div class="l_header_label">'+o[p.listsType]+"</div></div>"),f)if(f.hasOwnProperty(O)){var m=parseInt(O);_=b?"":Object(u.inArray)(-m,c[2])?"_sel":"",S.push('<div class="l_item'+_+'" id="privacy_l_item'+m+'" onclick="Privacy.choose(event, '+p.listsType+", "+m+')"><div class="privacy_item_icon"></div><span class="l_item_text">'+f[O]+"</span></div>")}S.push("</div>")}S.push("</div>"),cur.privRows.innerHTML=S.join(""),cur.privSel=i;var w=Object(l.data)(cur.privEl,"tween");if(w&&w.stop(!0),Object(l.show)(cur.privEl),o[p.listsType]&&b&&Object(l.hide)("privacy_lists"),p.toup=!1,getClientRectOffsetY(cur.privEl)>0&&getClientRectOffsetY(cur.privEl,!1,Object(l.getSize)(cur.privEl)[1])>0){p.toup=!0;var C=cur.privRows;C.appendChild(C.firstChild);for(var x=C.firstChild,T=x.firstChild,L=!1;T.nextSibling&&T.nextSibling!=L;T=x.firstChild)L=L?x.insertBefore(T,L):x.appendChild(T);var M=x.firstChild;if("privacy_lists"==M.id)for(var P=M.firstChild,E=!1;P.nextSibling&&P.nextSibling!=E;P=M.firstChild)E=E?M.insertBefore(P,E):M.appendChild(P)}p.toup?Object(l.addClass)(cur.privEl,"pdd_to_up"):Object(l.removeClass)(cur.privEl,"pdd_to_up"),cur.privacy[i+"_ralign"]?Object(l.addClass)(cur.privEl,"pdd_ralign"):Object(l.removeClass)(cur.privEl,"pdd_ralign");var I=cur.privacy[i+"_help"],B=cur.privacy[i+"_help_w"];if(I){var k=Object(l.ge)("privacy_header"),N=Object(l.getSize)(k);Object(d.showTooltip)(k,{text:I,width:B||300,dir:"left",slideX:15,shift:[-(N[0]+10),-N[1]/2,0],nohide:!0})}return Object(n.cancelEvent)(t)}},getValue(e){if(!cur.privacy||!cur.privacy[e])return"";var t=cur.privacy[e],i=[];if(t[0]<p.customType)i=[t[0]];else if(t[0]==p.someType)i=[4,t[2].join(",")];else if(t[0]==p.listsType){var r=[];for(var c in t[2])t[2].hasOwnProperty(c)&&r.push(-t[2][c]);i=[5,r.join(",")]}else i=[-1,t[1],t[2].join(","),t[3].join(",")];return i.join("_")}};p.qhide=p.hide.pbind(-1),window.Privacy=p;try{stManager.done(jsc("web/privacy.js"))}catch(e){}}});